include submit-message.pug

mixin contactUsForm(organizationSizeOptions)
    - const options = organizationSizeOptions || []
    form.v3.contact-us-form(
        action=pages.contactUs.url,
        method="post",
        name="questions",
        onsubmit="return diya.contactUs.form.send(event, this)")#form
        fieldset#fields
            .columns-container
                .column.left
                    .form-control
                        .input
                            label(for="cu-name") Name*
                            input#cu-name(name="Name", required, placeholder="John Doe", type="text", maxlength="250")
                    .form-control
                        .input
                            label(for="cu-email") Email*
                            input#cu-email(name="Email", required, placeholder="john.doe@example.org", type="email", maxlength="250")
                    .form-control
                        .select
                            label(for="cu-org-size") Organization Size
                            select#cu-org-size(name="OrganizationSize", required, placeholder="Select", value=options[0].value)
                                each option in options
                                    option(value=option.value) #{option.label}
                .column.right.comment
                    .form-control
                        .input
                            label(for="cu-message") Message
                            textarea#message.non-resizable(name="Message", placeholder="Type your question or request", rows="10", maxlength="10000")

            .g-recaptcha(
                    data-sitekey=keys.google.captcha,
                    data-callback="passCaptcha",
                    data-error-callback="resetCaptcha"
                    data-expired-callback="resetCaptcha")

            button.material-btn(type="submit")
                span.label
                    span Submit

    .loader-container.hidden#loader
        .loader
            .circle
            .circle
            .circle
            .circle
            .circle

    +submitMessage("Your message has been sent", "success-message")
        .message-text Thank you for contacting us! We will get in touch with you as soon as possible.

    +submitMessage("An error occured during the request", "error-message")
        .message-text Please contact us via email 
            a(href=`mailto:${contacts.email}`)=contacts.email
        button.btn(type="button", onclick="return diya.contactUs.form.reset()") Try Again